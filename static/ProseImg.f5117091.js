import{B as o,g as f,o as h,c as l,u,aj as d}from"./entry.f9a7ffc0.js";const g=/\/$|\/\?|\/#/;function m(t="",r){return r?g.test(t):t.endsWith("/")}function a(t="",r){if(!r)return t.endsWith("/")?t:t+"/";if(m(t,!0))return t||"/";let n=t,s="";const e=t.indexOf("#");if(e>=0&&(n=t.slice(0,e),s=t.slice(e),!n))return s;const[c,...i]=n.split("?");return c+"/"+(i.length>0?`?${i.join("?")}`:"")+s}function S(t=""){return t.startsWith("/")}function L(t=""){return S(t)?t:"/"+t}function _(t){return t&&t!=="/"}const R=/^\.?\//;function w(t,...r){let n=t||"";for(const s of r.filter(e=>_(e)))if(n){const e=s.replace(R,"");n=a(n)+e}else n=s;return n}const I=["src","alt","width","height"],W=o({__name:"ProseImg",props:{src:{type:String,default:""},alt:{type:String,default:""},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0}},setup(t){const r=t,n=f(()=>{var s;if((s=r.src)!=null&&s.startsWith("/")&&!r.src.startsWith("//")){const e=L(a(d().app.baseURL));if(e!=="/"&&!r.src.startsWith(e))return w(e,r.src)}return r.src});return(s,e)=>(h(),l("img",{src:u(n),alt:t.alt,width:t.width,height:t.height},null,8,I))}});export{W as default};
